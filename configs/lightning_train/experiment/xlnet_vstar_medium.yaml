# @package _global_
defaults:
- override /model_type: xlnet
- override /model: transformer_small_xlnet
- override /datamodule: star_xlnet
- override /dataset: vstar_medium_v2
- override /collation_strategy: default
- override /noise_schedule: dummy

compile: false

trainer:
  precision: bf16-mixed
  devices: 1
  num_nodes: 1
  max_steps: 50000
  val_check_interval: null
  check_val_every_n_epoch: 2

lightning_module:
  _target_: pcdd.diffusion.xlnet.XLNetLightningModuleForStarGraphs

predictor:
  sampling_method: sample_top_k
  top: 5

datamodule:
  train_dataloader_kwargs:
    batch_size: 64

optimizer:
  lr: 0.0001

lr_scheduler:
  name: constant_with_warmup
  num_warmup_steps: 500

callbacks:
  checkpoint_monitor:
    monitor: val/exact_match

generative_perplexity:
  evaluators: null

tags:
  compile: ${compile}
  precision: ${trainer.precision}
