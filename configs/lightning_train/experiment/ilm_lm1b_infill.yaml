# @package _global_
# python src/pcdd/commands/lightning_main_v2.py experiment=ilm_stories_infill generation.ckpt_path=/scratch3/workspace/dhruveshpate_umass_edu-text_diffusion/pcdd/logs/ilm_lm1b_stories/checkpoints/11-50000.ckpt
defaults:
  - ilm_lm1b_generate
  - /datamodule@generation.datamodule: ilm_stopping_lm1b_infill

job_name: ilm_lm1b_infill

generation:
  input_field_to_display: masked_input_ids
  output_file_name: infill_max_steps_${predictor.max_steps}_stopping_threshold_${predictor.stopping_threshold}_sampling_method_${predictor.sampling_method}_p_${predictor.p}_top_${predictor.top}_second_sampling_method_${predictor.second_sampling_method}_second_p_${predictor.second_p}_second_top_${predictor.second_top}.jsonl

predictor:
  force_predict_first_step: true
  max_steps: 128
  stopping_threshold: 0.5
  sampling_method: sample_top_p
  p: 0.1
  top: 1
  second_sampling_method: sample_top_k
  second_top: 1
  second_p: 0.2

tags:
  prediction_task: infill